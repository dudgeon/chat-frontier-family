# Session Metadata

Chat session titles and summaries are generated by the `generate-chat-name` edge function.
The function is invoked from the client after every third assistant reply. It uses OpenAI's
`gpt-4o` model and falls back to `gpt-3.5-turbo` if necessary.

Metadata is written server-side using the service role key so that row level security does
not block updates. The function updates `chat_sessions.name` and `chat_sessions.session_summary`
directly and returns the values only for debugging.

To keep API costs low the request payloads are short and generation runs at most once every
three assistant messages.
